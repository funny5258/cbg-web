<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.funny.txstack.dao.cbg.BangRoleMapper" >
  <resultMap id="extResultMap" type="com.funny.txstack.entity.cbg.BangRoleEntity">
    <result column="role_id" property="roleId" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="school" property="school" jdbcType="INTEGER" />
    <result column="server" property="server" jdbcType="VARCHAR" />
    <result column="equ_xiuwei" property="equXiuwei" jdbcType="INTEGER" />
    <result column="xiuwei" property="xiuwei" jdbcType="INTEGER" />
  </resultMap>
  
  <select id="findByCondition" resultMap="extResultMap" parameterType="com.funny.txstack.entity.cbg.BangSearch" >
    select t.role_id,t.`name`,t.`level`,t.school,CONCAT(t.area,'-',t.`server`) server,t.equ_xiuwei,t.xiuwei
    from bang_role t where level = 79
    <if test="school != null " >
      and school =  #{school}
    </if>
  </select>
</mapper>